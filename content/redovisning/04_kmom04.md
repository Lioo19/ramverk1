---
---
Redovisning kmom04
=========================

Kmom04 susade förbi i rekordfart (tills jag fastnade på testningen för den enskilda modulen…). Att lyfta ut modulen ur ramverket gick förvånansvärt bra och jag fick det att fungera på första försöket. Jag stötte på ett litet problem med att få med kartan till weather, vilket berodde på att jag inte skickade med någon kod från theme-mappen där jag hade satt stylen för att kartan skulle visas. För att säkra att den alltid visas för den som laddar ner modulen satte jag istället en grund-style direkt i view-filen, som sätter höjd och bredd. Jag stökade lite med testmodulerna när jag laddade ner modulen från packagist, men detta löstes med att installera om vilken kändes smidigt. Jag fick även se till att inte glömma ge instruktioner för hur man anger api-nycklar och liknande, vilket äntligen kändes som att jag fick till en bra lösning för. När jag däremot testade modulen utan ramverket i bakgrunden fick jag desto större problem och tillbringade rätt mycket tid med att få ordning på hur man skapade en config/di-mapp för att stötta testningen. Efter att känt som att jag importerade hela ramverket bad jag om hjälp, och hjälp fick jag! Till slut gick alla testerna igenom utan att behöva ladda in hela ramverk, men det krävde sitt.  

Jag hade inga större problem alls med packagist, jag gjorde ett fåtal ändringar i min composer-fil precis innan jag laddade upp modulen för att verkligen följa Packagists riktlinjer men när jag väl laddade upp den gick allt som på räls. Autouppdateringen kom igång av sig själv efter ca 5 minuter och även den ser ut att fungera väl (och förvånansvärt snabbt) vid push till github.  

Att sedan installera tillbaka väder-modulen in i redovisa gick bra det med. Jag fastnade lite vid ett underligt felmeddelande när jag försökte köra den första make test, men kom rätt snabbt på att jag inte kört make install sedan jag dragit ner modulen från packagist och därefter gick det betydligt bättre. Min kodtäckning är tyvärr inte alls lika hög som den varit tidigare (från 100% till 72,45%), men det beror helt och hållet på förra veckans mockning vilket gör att det ändå känns lite bättre (framförallt med tanke på att jag fick mail från vädertjänsten om att jag översteg min pris-plan…). Jag försökte optimera kodtäckningen lite ytterligare med nådde ingen större succée.  

Den största skillnaden i att jobba med moduler är väl återanvändbarheten som ökar mycket, framförallt mellan olika projekt och användare. Skapandet av en modul känns som en väldigt smidigt sätt att skapa sig flertalet bra grunder till olika program som lätt går att återanvända. Nackdelen blir att det kräver underhåll allt eftersom andra program uppdateras samt om flera börjar använda din modul och stöter på buggar på vägen. Kort och gott känns det som att man får mer för lite mer arbete.I övrigt känns min redovisa-mapp rätt lik som den var innan, vilket känns bra och välbekant.  

När det kommer till andra ramverk så verkar Symfony jobba med moduler som de själva kallar för ‘Components’ vilket verkar fungera mycket likt de moduler vi jobbat med under detta moment. De går att installera med hjälp av composer och integrera i ramverket. De har även uttryckligen den semantiska versionshanteringen som vi fått lära oss mer om under detta kursmoment.  

TIL för denna momentet är värdet av att göra en extra backup till github innan arbetet påbörjas. Det finns något väldigt lugnande i att veta att om allting går åt skogen, väntar den på mig för att jag ska kunna börja om.
