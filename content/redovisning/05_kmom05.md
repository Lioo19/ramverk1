---
---
Redovisning kmom05
=========================

Jag hade redan innan loggat in och slagit på travis och scrutinizer för mitt repo under tidigare kursmoment, men fått ett failat resultat på travis och inte lagt tid på att ordna upp det. Därför blev min start i detta moment att försöka nysta i vad det var som orsakat det misslyckandet, och landade i att jag haft med php nightly och hhvm, vilka jag nu tog bort och ersatte med php v. 7.4, 7.3 och 7.2 som kändes mer relevanta för min kod. Därefter gav jag mig på circleci som var ett nytt byggverktyg för mig. Jag skapade .circleci-mappen och la in en config.yml fil baserad på den som låg i redovisa, med mindre justeringar. I början hade jag problem att förstå vad jag faktiskt testade och varför vissa felmeddelanden genererades (hade exempelvis problem med att skriva till cache-mappen), men efter en stunds klurande ordnade även det upp sig. I och med att jag la till circleci-instruktioner i min modul fick jag istället problem med travis, xdebug och phploc (likt många andra), så det tog ett par vändor och stöd i chatten innan jag till slut bestämde mig för att avvakta med travis och för nu låta min readme stoltsera med fyra fina gröna badges och en röd, med förhoppning om att travis löses vid uppdatering till xdebug3.0.1.  

Jag trivs bra med framförallt scrutinizer, som jag tycker är lättanvänt konkret och lättnavigerat. Travis gillar jag också, men upplever ibland att det tar lite väl lång tid för den att köra igenom ett nytt commit. Detta blev mycket bättre efter att jag migrerat allt till travis-ci.com istället för .org, så tack till chatten för det tipset! Jag skulle gissa att den största anledningen till varför jag uppskattar dessa två är för att de är välbekanta och att jag har jobbat med dem tidigare, vilket ger dem ett naturligt försprång i jämförelse med exempelvis circleci.  

Scrutinizer ger mig en kodkvalitet på 9.72 vilket känns som en rätt bra nivå (och bättre än vad jag förväntade mig). Jag spenderade lite tid på att justera några av de saker som den förslog som potentiella förbättringar, vilket kändes bra. Kvaliteten var samma som innan, men jag fick ett good job på att jag hade fixat 14 issues. Detta var även de i stort sett enda förändringarna jag gjorde för min modul under detta moment, då jag lagt så mycket tid på problemen med xdebug att jag kände att mitt tålamod med php var slut och behövde en paus.(Jag gjorde en mindre justering i weathermodule där jag adderade en hårdkodad testroute på efter önskemål från mos).  

Jag kikade som vanligt på Symfony och Laravel. Symfony har ett avsnitt om CI och rekommenderar användandet av Travis för de bundels som användarna kan bygga och använda, för att kunna få en bra och enkel testning för sin modul. De har dessutom en exempelfil för hur .travis.yml-filen kan se ut. Det var egentligen den enda informationen jag kunde hitta på deras sida som hanterade specifikt detta ämne. Symfony har inga badges på sin readme på github och trots att jag såg en .travis.yml-fil hittade jag inga repon för symfony i sig självt.  Jag hittade däremot ett scrutinizer-repo för symfony slovenia med kodkvalitet 8.67, men de känns kanske inte fullt som det vi letade efter.  

Laravel har något som kallas Laravel Dusk och som är ett “browser automation and testing API” som sedan använder ChromeDriver för att kunna genomföra tester direkt mot webbläsaren. Laravel Dusk går att integrera med bland annat Travis och CircleCi vilket dokumentationen tillhandar ett kapitel om där de ger tips på hur filerna för dessa verktyg bör se ut. För laravel hittade jag ett repo på travis där allt såg grönt och fint ut, samt ett på scrutinizer där jag tyvärr inte hade access nog att se kodkvaliteten eller kodtäckningen. Det var värt ett försök.  

TIL för den här veckan får bli “Ibland är det faktiskt inte du. Ibland är det verktyget.” med syfte på xdebug3.0.0. (med det sagt så är det ju fortfarande min uppgift att lösa det, men det fanns ändå något avslappnande i att veta att det inte helt och hållet berodde på mina misstag).
